{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;\red86\green65\blue25;\red255\green255\blue255;\red0\green0\blue0;
\red144\green1\blue18;\red19\green85\blue52;\red15\green112\blue1;\red0\green0\blue255;\red131\green0\blue165;
}
{\*\expandedcolortbl;;\cssrgb\c41569\c32157\c12941;\cssrgb\c100000\c100000\c100000;\cssrgb\c0\c0\c0;
\cssrgb\c63922\c8235\c8235;\cssrgb\c6667\c40000\c26667;\cssrgb\c0\c50196\c0;\cssrgb\c0\c0\c100000;\cssrgb\c59216\c13725\c70588;
}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs28 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 60\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "LIVECALC GPU BENCHMARK - ENHANCED STRESS TEST"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 60\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "Implementing your projection.cpp logic (lines 71-163)"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "With VM22-realistic complexity:"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "  \'95 40-year projection terms (2x original)"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "  \'95 Monthly time steps (12x granularity)"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "  \'95 10K scenarios (VM22 outer loop)"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 60\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf7 \cb3 \strokec7 # More realistic VM22 benchmarks\cf0 \cb1 \strokec4 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3 benchmarks = [\cb1 \
\cb3     \cf7 \strokec7 # Format: (policies, scenarios, years, monthly_steps)\cf0 \cb1 \strokec4 \
\cb3     \cf7 \strokec7 # Small warmup (yearly)\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 100\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 False\cf0 \strokec4 ),          \cf7 \strokec7 # 4M calcs\cf0 \cb1 \strokec4 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # Medium (yearly) \cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 10_000\cf0 \strokec4 , \cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 False\cf0 \strokec4 ),       \cf7 \strokec7 # 400M calcs - 2x your original\cf0 \cb1 \strokec4 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # Large (yearly)\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 100_000\cf0 \strokec4 , \cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 False\cf0 \strokec4 ),      \cf7 \strokec7 # 4B calcs\cf0 \cb1 \strokec4 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # VM22 realistic (yearly)\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 1_000_000\cf0 \strokec4 , \cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 False\cf0 \strokec4 ),    \cf7 \strokec7 # 40B calcs - realistic VM22 with LSMC\cf0 \cb1 \strokec4 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # STRESS TEST: Monthly granularity (12x more expensive)\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 10_000\cf0 \strokec4 , \cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 True\cf0 \strokec4 ),        \cf7 \strokec7 # 4.8B calcs (monthly)\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 100_000\cf0 \strokec4 , \cf6 \strokec6 1_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 True\cf0 \strokec4 ),       \cf7 \strokec7 # 48B calcs (monthly)\cf0 \cb1 \strokec4 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # ULTIMATE: VM22 with monthly steps\cf0 \cb1 \strokec4 \
\cb3     (\cf6 \strokec6 1_000_000\cf0 \strokec4 , \cf6 \strokec6 10_000\cf0 \strokec4 , \cf6 \strokec6 40\cf0 \strokec4 , \cf8 \strokec8 True\cf0 \strokec4 ),    \cf7 \strokec7 # 4.8 TRILLION calcs (if T4 can handle it)\cf0 \cb1 \strokec4 \
\cb3 ]\cb1 \
\
\cb3 results_summary = []\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9 for\cf0 \strokec4  num_policies, num_scenarios, years, monthly \cf8 \strokec8 in\cf0 \strokec4  benchmarks:\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     time_steps = years * \cf6 \strokec6 12\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  monthly \cf9 \strokec9 else\cf0 \strokec4  years\cb1 \
\cb3     total_calcs = num_policies * num_scenarios * time_steps\cb1 \
\cb3     \cb1 \
\cb3     step_label = \cf5 \strokec5 "monthly"\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  monthly \cf9 \strokec9 else\cf0 \strokec4  \cf5 \strokec5 "yearly"\cf0 \cb1 \strokec4 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\\n\cf0 \strokec4 \{\cf5 \strokec5 '='\cf0 \strokec4 *\cf6 \strokec6 70\cf0 \strokec4 \}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "TEST: \cf0 \strokec4 \{num_policies\cf6 \strokec6 :,\cf0 \strokec4 \}\cf5 \strokec5  policies \'d7 \cf0 \strokec4 \{num_scenarios\cf6 \strokec6 :,\cf0 \strokec4 \}\cf5 \strokec5  scenarios \'d7 \cf0 \strokec4 \{years\}\cf5 \strokec5  years (\cf0 \strokec4 \{step_label\}\cf5 \strokec5 )"\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "Total calculations: \cf0 \strokec4 \{total_calcs\cf6 \strokec6 :,\cf0 \strokec4 \}\cf5 \strokec5  (\cf0 \strokec4 \{total_calcs/\cf6 \strokec6 1e9:.1f\cf0 \strokec4 \}\cf5 \strokec5 B)"\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{\cf5 \strokec5 '='\cf0 \strokec4 *\cf6 \strokec6 70\cf0 \strokec4 \}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\cb3     \cb1 \
\cb3     \cf9 \strokec9 try\cf0 \strokec4 :\cb1 \
\cb3         elapsed, throughput, results = run_gpu_projection(\cb1 \
\cb3             num_policies, num_scenarios, years, monthly=monthly\cb1 \
\cb3         )\cb1 \
\cb3         results_summary.append(\{\cb1 \
\cb3             \cf5 \strokec5 'policies'\cf0 \strokec4 : num_policies,\cb1 \
\cb3             \cf5 \strokec5 'scenarios'\cf0 \strokec4 : num_scenarios,\cb1 \
\cb3             \cf5 \strokec5 'years'\cf0 \strokec4 : years,\cb1 \
\cb3             \cf5 \strokec5 'monthly'\cf0 \strokec4 : monthly,\cb1 \
\cb3             \cf5 \strokec5 'total_calcs'\cf0 \strokec4 : total_calcs,\cb1 \
\cb3             \cf5 \strokec5 'time'\cf0 \strokec4 : elapsed,\cb1 \
\cb3             \cf5 \strokec5 'throughput'\cf0 \strokec4 : throughput\cb1 \
\cb3         \})\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\uc0\u10003  SUCCESS: \cf0 \strokec4 \{elapsed\cf6 \strokec6 :.2f\cf0 \strokec4 \}\cf5 \strokec5 s @ \cf0 \strokec4 \{throughput/\cf6 \strokec6 1e6:.1f\cf0 \strokec4 \}\cf5 \strokec5 M/sec"\cf0 \strokec4 )\cb1 \
\cb3     \cf9 \strokec9 except\cf0 \strokec4  Exception \cf9 \strokec9 as\cf0 \strokec4  e:\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\uc0\u10007  FAILED: \cf0 \strokec4 \{e\}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\cb3         results_summary.append(\{\cb1 \
\cb3             \cf5 \strokec5 'policies'\cf0 \strokec4 : num_policies,\cb1 \
\cb3             \cf5 \strokec5 'scenarios'\cf0 \strokec4 : num_scenarios,\cb1 \
\cb3             \cf5 \strokec5 'years'\cf0 \strokec4 : years,\cb1 \
\cb3             \cf5 \strokec5 'monthly'\cf0 \strokec4 : monthly,\cb1 \
\cb3             \cf5 \strokec5 'total_calcs'\cf0 \strokec4 : total_calcs,\cb1 \
\cb3             \cf5 \strokec5 'time'\cf0 \strokec4 : \cf8 \strokec8 None\cf0 \strokec4 ,\cb1 \
\cb3             \cf5 \strokec5 'throughput'\cf0 \strokec4 : \cf8 \strokec8 None\cf0 \cb1 \strokec4 \
\cb3         \})\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf7 \cb3 \strokec7 # Summary table\cf0 \cb1 \strokec4 \
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "\\n"\cf0 \strokec4  + \cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "COMPARISON TO LIVECALC CPU BASELINE"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{\cf5 \strokec5 'Config'\cf6 \strokec6 :<35\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{\cf5 \strokec5 'Steps'\cf6 \strokec6 :<8\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{\cf5 \strokec5 'GPU Time'\cf6 \strokec6 :<12\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{\cf5 \strokec5 'GPU M/sec'\cf6 \strokec6 :<12\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{\cf5 \strokec5 'Speedup'\cf6 \strokec6 :<10\cf0 \strokec4 \}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "-"\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf0 \cb3 cpu_baseline = \cf6 \strokec6 16.8\cf0 \strokec4   \cf7 \strokec7 # Million projections/sec from your benchmarks\cf0 \cb1 \strokec4 \
\
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9 for\cf0 \strokec4  r \cf8 \strokec8 in\cf0 \strokec4  results_summary:\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ]:\cb1 \
\cb3         speedup = r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ] / (cpu_baseline * \cf6 \strokec6 1e6\cf0 \strokec4 )\cb1 \
\cb3         step_label = \cf5 \strokec5 "monthly"\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'monthly'\cf0 \strokec4 ] \cf9 \strokec9 else\cf0 \strokec4  \cf5 \strokec5 "yearly"\cf0 \cb1 \strokec4 \
\cb3         config = \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'policies'\cf0 \strokec4 ]:>\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ]:<\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'years'\cf0 \strokec4 ]\cf6 \strokec6 :>2\cf0 \strokec4 \}\cf5 \strokec5 yr"\cf0 \cb1 \strokec4 \
\cb3         \cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{config\cf6 \strokec6 :<35\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{step_label\cf6 \strokec6 :<8\cf0 \strokec4 \}\cf5 \strokec5  "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'time'\cf0 \strokec4 ]\cf6 \strokec6 :>8.3f\cf0 \strokec4 \}\cf5 \strokec5 s    "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ]/\cf6 \strokec6 1e6:>8.1f\cf0 \strokec4 \}\cf5 \strokec5 M/s   "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{speedup\cf6 \strokec6 :>8.1f\cf0 \strokec4 \}\cf5 \strokec5 x"\cf0 \strokec4 )\cb1 \
\cb3     \cf9 \strokec9 else\cf0 \strokec4 :\cb1 \
\cb3         config = \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'policies'\cf0 \strokec4 ]:>\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ]:<\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'years'\cf0 \strokec4 ]\cf6 \strokec6 :>2\cf0 \strokec4 \}\cf5 \strokec5 yr"\cf0 \cb1 \strokec4 \
\cb3         step_label = \cf5 \strokec5 "monthly"\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'monthly'\cf0 \strokec4 ] \cf9 \strokec9 else\cf0 \strokec4  \cf5 \strokec5 "yearly"\cf0 \cb1 \strokec4 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{config\cf6 \strokec6 :<35\cf0 \strokec4 \}\cf5 \strokec5  \cf0 \strokec4 \{step_label\cf6 \strokec6 :<8\cf0 \strokec4 \}\cf5 \strokec5   FAILED"\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf7 \cb3 \strokec7 # VM22 Reality Check\cf0 \cb1 \strokec4 \
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "\\n"\cf0 \strokec4  + \cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "VM22 FEASIBILITY ANALYSIS"\cf0 \strokec4 )\cb1 \
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf7 \cb3 \strokec7 # Find the 1M \'d7 10K \'d7 40yr monthly result (if it completed)\cf0 \cb1 \strokec4 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3 vm22_result = \cf2 \strokec2 next\cf0 \strokec4 ((r \cf9 \strokec9 for\cf0 \strokec4  r \cf8 \strokec8 in\cf0 \strokec4  results_summary \cb1 \
\cb3                     \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'policies'\cf0 \strokec4 ] == \cf6 \strokec6 1_000_000\cf0 \strokec4  \cf8 \strokec8 and\cf0 \strokec4  r[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ] == \cf6 \strokec6 10_000\cf0 \strokec4  \cb1 \
\cb3                     \cf8 \strokec8 and\cf0 \strokec4  r[\cf5 \strokec5 'monthly'\cf0 \strokec4 ] \cf8 \strokec8 and\cf0 \strokec4  r[\cf5 \strokec5 'time'\cf0 \strokec4 ] \cf8 \strokec8 is\cf0 \strokec4  \cf8 \strokec8 not\cf0 \strokec4  \cf8 \strokec8 None\cf0 \strokec4 ), \cf8 \strokec8 None\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9 if\cf0 \strokec4  vm22_result:\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "VM22 Full Run (1M policies \'d7 10K scenarios \'d7 40 years monthly):"\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  Time on free T4:  \cf0 \strokec4 \{vm22_result[\cf5 \strokec5 'time'\cf0 \strokec4 ]\cf6 \strokec6 :.1f\cf0 \strokec4 \}\cf5 \strokec5  seconds (\cf0 \strokec4 \{vm22_result[\cf5 \strokec5 'time'\cf0 \strokec4 ]/\cf6 \strokec6 60:.1f\cf0 \strokec4 \}\cf5 \strokec5  minutes)"\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  Estimated A100:   \cf0 \strokec4 \{vm22_result[\cf5 \strokec5 'time'\cf0 \strokec4 ]/\cf6 \strokec6 4:.1f\cf0 \strokec4 \}\cf5 \strokec5  seconds (\cf0 \strokec4 \{vm22_result[\cf5 \strokec5 'time'\cf0 \strokec4 ]/\cf6 \strokec6 240:.1f\cf0 \strokec4 \}\cf5 \strokec5  minutes)"\cf0 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  \uc0\u10003  Target (<10 min): \cf0 \strokec4 \{\cf5 \strokec5 'PASS'\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  vm22_result[\cf5 \strokec5 'time'\cf0 \strokec4 ] < \cf6 \strokec6 600\cf0 \strokec4  \cf9 \strokec9 else\cf0 \strokec4  \cf5 \strokec5 'FAIL'\cf0 \strokec4 \}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9 else\cf0 \strokec4 :\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf7 \strokec7 # Extrapolate from largest successful run\cf0 \cb1 \strokec4 \
\cb3     largest = \cf2 \strokec2 next\cf0 \strokec4 ((r \cf9 \strokec9 for\cf0 \strokec4  r \cf8 \strokec8 in\cf0 \strokec4  \cf2 \strokec2 reversed\cf0 \strokec4 (results_summary) \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'time'\cf0 \strokec4 ] \cf8 \strokec8 is\cf0 \strokec4  \cf8 \strokec8 not\cf0 \strokec4  \cf8 \strokec8 None\cf0 \strokec4 ), \cf8 \strokec8 None\cf0 \strokec4 )\cb1 \
\cb3     \cf9 \strokec9 if\cf0 \strokec4  largest:\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "VM22 Extrapolation (from \cf0 \strokec4 \{largest[\cf5 \strokec5 'policies'\cf0 \strokec4 ]\cf6 \strokec6 :,\cf0 \strokec4 \}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{largest[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ]\cf6 \strokec6 :,\cf0 \strokec4 \}\cf5 \strokec5 ):"\cf0 \strokec4 )\cb1 \
\cb3         \cf7 \strokec7 # Scale to 1M \'d7 10K\cf0 \cb1 \strokec4 \
\cb3         scale_factor = (\cf6 \strokec6 1_000_000\cf0 \strokec4  / largest[\cf5 \strokec5 'policies'\cf0 \strokec4 ]) * (\cf6 \strokec6 10_000\cf0 \strokec4  / largest[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ])\cb1 \
\cb3         \cf9 \strokec9 if\cf0 \strokec4  \cf8 \strokec8 not\cf0 \strokec4  largest[\cf5 \strokec5 'monthly'\cf0 \strokec4 ]:\cb1 \
\cb3             scale_factor *= \cf6 \strokec6 12\cf0 \strokec4   \cf7 \strokec7 # Add monthly granularity\cf0 \cb1 \strokec4 \
\cb3         \cb1 \
\cb3         estimated_time = largest[\cf5 \strokec5 'time'\cf0 \strokec4 ] * scale_factor\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  Estimated T4:     \cf0 \strokec4 \{estimated_time\cf6 \strokec6 :.1f\cf0 \strokec4 \}\cf5 \strokec5  seconds (\cf0 \strokec4 \{estimated_time/\cf6 \strokec6 60:.1f\cf0 \strokec4 \}\cf5 \strokec5  minutes)"\cf0 \strokec4 )\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  Estimated A100:   \cf0 \strokec4 \{estimated_time/\cf6 \strokec6 4:.1f\cf0 \strokec4 \}\cf5 \strokec5  seconds (\cf0 \strokec4 \{estimated_time/\cf6 \strokec6 240:.1f\cf0 \strokec4 \}\cf5 \strokec5  minutes)"\cf0 \strokec4 )\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "  \uc0\u10003  Target (<10 min): \cf0 \strokec4 \{\cf5 \strokec5 'LIKELY'\cf0 \strokec4  \cf9 \strokec9 if\cf0 \strokec4  estimated_time < \cf6 \strokec6 600\cf0 \strokec4  \cf9 \strokec9 else\cf0 \strokec4  \cf5 \strokec5 'MAYBE'\cf0 \strokec4 \}\cf5 \strokec5 "\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 80\cf0 \strokec4 )\cb1 \
\
\
\pard\pardeftab720\partightenfactor0
\cf0 \cb3 cpu_baseline = \cf6 \strokec6 16.8\cf0 \strokec4   \cf7 \strokec7 # Million projections/sec from your benchmarks\cf0 \cb1 \strokec4 \
\
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9 for\cf0 \strokec4  r \cf8 \strokec8 in\cf0 \strokec4  results_summary:\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf9 \strokec9 if\cf0 \strokec4  r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ]:\cb1 \
\cb3         speedup = r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ] / (cpu_baseline * \cf6 \strokec6 1e6\cf0 \strokec4 )\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'policies'\cf0 \strokec4 ]:>\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ]:<\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'time'\cf0 \strokec4 ]\cf6 \strokec6 :>8.3f\cf0 \strokec4 \}\cf5 \strokec5 s    "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'throughput'\cf0 \strokec4 ]/\cf6 \strokec6 1e6:>8.1f\cf0 \strokec4 \}\cf5 \strokec5 M/s   "\cf0 \cb1 \strokec4 \
\cb3               \cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{speedup\cf6 \strokec6 :>8.1f\cf0 \strokec4 \}\cf5 \strokec5 x"\cf0 \strokec4 )\cb1 \
\cb3     \cf9 \strokec9 else\cf0 \strokec4 :\cb1 \
\cb3         \cf2 \strokec2 print\cf0 \strokec4 (\cf8 \strokec8 f\cf5 \strokec5 "\cf0 \strokec4 \{r[\cf5 \strokec5 'policies'\cf0 \strokec4 ]:>\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5  \'d7 \cf0 \strokec4 \{r[\cf5 \strokec5 'scenarios'\cf0 \strokec4 ]:<\cf6 \strokec6 7\cf0 \strokec4 ,\}\cf5 \strokec5   FAILED"\cf0 \strokec4 )\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 print\cf0 \strokec4 (\cf5 \strokec5 "="\cf0 \strokec4 *\cf6 \strokec6 60\cf0 \strokec4 )\cb1 \
\
}