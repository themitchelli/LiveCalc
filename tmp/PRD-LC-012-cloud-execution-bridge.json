{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red236\green241\blue247;\red0\green0\blue0;\red144\green1\blue18;
\red9\green60\blue148;\red164\green69\blue11;}
{\*\expandedcolortbl;;\cssrgb\c94118\c95686\c97647;\cssrgb\c0\c0\c0;\cssrgb\c63922\c8235\c8235;
\cssrgb\c1569\c31765\c64706;\cssrgb\c70980\c34902\c3137;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs28 \cf0 \cb2 \expnd0\expndtw0\kerning0
\{\cb1 \
\cb2   \cf4 "id"\cf0 : \cf5 "PRD-LC-012"\cf0 ,\cb1 \
\cb2   \cf4 "title"\cf0 : \cf5 "Local-to-Cloud Execution Bridge"\cf0 ,\cb1 \
\cb2   \cf4 "type"\cf0 : \cf5 "feature"\cf0 ,\cb1 \
\cb2   \cf4 "priority"\cf0 : \cf5 "high"\cf0 ,\cb1 \
\cb2   \cf4 "status"\cf0 : \cf5 "planned"\cf0 ,\cb1 \
\cb2   \cf4 "created"\cf0 : \cf5 "2026-01-24"\cf0 ,\cb1 \
\cb2   \cf4 "project"\cf0 : \cf5 "LiveCalc"\cf0 ,\cb1 \
\cb2   \cf4 "phase"\cf0 : \cf6 3\cf0 ,\cb1 \
\cb2   \cf4 "description"\cf0 : \cf5 "Establish the foundational bridge between the local VS Code workbench and the AKS cloud grid. Enables packaging local model assets and executing them on a remote containerized WASM/Python runtime with binary results streamed back to the local Results Panel."\cf0 ,\cb1 \
\cb2   \cf4 "problem"\cf0 : [\cb1 \
\cb2     \cf5 "No functional bridge between local experimentation and cloud scale"\cf0 ,\cb1 \
\cb2     \cf5 "Cloud runtime parity with local WASM/SIMD is not yet proven"\cf0 ,\cb1 \
\cb2     \cf5 "The 'Run in Cloud' command in VS Code is a non-functional placeholder"\cf0 ,\cb1 \
\cb2     \cf5 "Large-scale projection data cannot yet be transferred without serialization overhead"\cf0 \cb1 \
\cb2   ],\cb1 \
\cb2   \cf4 "solution"\cf0 : [\cb1 \
\cb2     \cf5 "Build a 'Parity Worker' Docker image with Emscripten/Pyodide runtimes"\cf0 ,\cb1 \
\cb2     \cf5 "Implement an Asset Packager to bundle .mga, .wasm, and .py files into hashed manifests"\cf0 ,\cb1 \
\cb2     \cf5 "Develop the Bridge API to handle authenticated model uploads and Job lifecycle"\cf0 ,\cb1 \
\cb2     \cf5 "Enable Zero-Copy result streaming from the cloud SAB directly to the IDE Results Panel"\cf0 \cb1 \
\cb2   ],\cb1 \
\cb2   \cf4 "dependencies"\cf0 : [\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "PRD-LC-010"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Modular Orchestration Layer"\cf0 ,\cb1 \
\cb2       \cf4 "status"\cf0 : \cf5 "in-progress"\cf0 ,\cb1 \
\cb2       \cf4 "notes"\cf0 : \cf5 "Requires the bus:// protocol to be stable before cloud mapping."\cf0 \cb1 \
\cb2     \}\cb1 \
\cb2   ],\cb1 \
\cb2   \cf4 "standardsReferences"\cf0 : [\cb1 \
\cb2     \cf5 "standards/architecture.md"\cf0 ,\cb1 \
\cb2     \cf5 "standards/coding.md"\cf0 ,\cb1 \
\cb2     \cf5 "standards/testing.md"\cf0 \cb1 \
\cb2   ],\cb1 \
\cb2   \cf4 "technicalNotes"\cf0 : \{\cb1 \
\cb2     \cf4 "workerRuntime"\cf0 : \cf5 "Node.js 20+ with --experimental-wasm-simd"\cf0 ,\cb1 \
\cb2     \cf4 "packagingFormat"\cf0 : \cf5 "ZIP with signed manifest.json"\cf0 ,\cb1 \
\cb2     \cf4 "apiFramework"\cf0 : \cf5 "FastAPI (Python)"\cf0 ,\cb1 \
\cb2     \cf4 "streaming"\cf0 : \cf5 "Binary WebSockets (raw memory segments)"\cf0 ,\cb1 \
\cb2     \cf4 "auth"\cf0 : \cf5 "JWT handoff from VS Code extension"\cf0 \cb1 \
\cb2   \},\cb1 \
\cb2   \cf4 "userStories"\cf0 : [\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-01"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Cloud Worker Container (Runtime Parity)"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As a platform engineer, I want a containerized runtime that mirrors my local machine so I can guarantee byte-identical results."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "Dockerfile creates a Debian-slim image with Node.js 20 and Emscripten libs."\cf0 ,\cb1 \
\cb2         \cf5 "Runtime verifies SIMD128 support and 16-byte alignment at startup."\cf0 ,\cb1 \
\cb2         \cf5 "Validation: A 10K policy test run in the container matches the local SHA-256 result hash."\cf0 ,\cb1 \
\cb2         \cf5 "Environment supports SharedArrayBuffer via appropriate cross-origin headers."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "Docker"\cf0 , \cf5 "Node.js"\cf0 , \cf5 "WASM Runtime"\cf0 ]\cb1 \
\cb2     \},\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-02"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Model Asset Packager"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As an actuary, I want my local model to be automatically packaged for the cloud so I don't have to manage dependencies."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "Extension utility bundles livecalc.config.json, all referenced .wasm/.py files, and model assets."\cf0 ,\cb1 \
\cb2         \cf5 "Generates manifest.json with SHA-256 hashes of all bundled files."\cf0 ,\cb1 \
\cb2         \cf5 "Excludes large local datasets (e.g., source CSVs) by referencing remote assumption URIs instead."\cf0 ,\cb1 \
\cb2         \cf5 "Compresses bundle using JSZip for efficient transfer."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "TypeScript"\cf0 , \cf5 "JSZip"\cf0 , \cf5 "Crypto API"\cf0 ]\cb1 \
\cb2     \},\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-03"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Job Submission & Auth API"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As a developer, I want an API that handles the secure handoff of models to the cloud."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "FastAPI endpoint: POST /v1/jobs/submit accepts model ZIP and JWT."\cf0 ,\cb1 \
\cb2         \cf5 "API validates JWT against the Assumptions Manager auth provider."\cf0 ,\cb1 \
\cb2         \cf5 "Job state stored in Redis (Queued, Initializing, Running, Complete)."\cf0 ,\cb1 \
\cb2         \cf5 "Endpoint returns unique JobID for status polling/streaming."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "FastAPI"\cf0 , \cf5 "Redis"\cf0 , \cf5 "JWT Validation"\cf0 ]\cb1 \
\cb2     \},\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-04"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Cloud Pipeline Host"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As a system, I need the cloud worker to reconstruct my local pipeline and execute it."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "Worker host extracts model ZIP and parses config DAG."\cf0 ,\cb1 \
\cb2         \cf5 "Initializes WASM and Pyodide workers matching the PRD-LC-010 architecture."\cf0 ,\cb1 \
\cb2         \cf5 "Allocates SharedArrayBuffer and signals readiness to the API."\cf0 ,\cb1 \
\cb2         \cf5 "Executes projection and handles cross-worker signaling via Atomics."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "Node.js Workers"\cf0 , \cf5 "SharedArrayBuffer"\cf0 ]\cb1 \
\cb2     \},\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-05"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "VS Code 'Run in Cloud' Integration"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As a user, I want a single command to trigger a cloud run and track its progress."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "Implement command 'livecalc.runCloud' in the VS Code sidebar."\cf0 ,\cb1 \
\cb2         \cf5 "UI displays progress bar: Uploading -> Initializing -> Running."\cf0 ,\cb1 \
\cb2         \cf5 "Command automatically refreshes auth token before submission."\cf0 ,\cb1 \
\cb2         \cf5 "Error handling: Show cloud-side WASM traps in the VS Code output channel."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "VS Code API"\cf0 , \cf5 "TypeScript"\cf0 ]\cb1 \
\cb2     \},\cb1 \
\cb2     \{\cb1 \
\cb2       \cf4 "id"\cf0 : \cf5 "US-BRIDGE-06"\cf0 ,\cb1 \
\cb2       \cf4 "title"\cf0 : \cf5 "Binary Result Streaming"\cf0 ,\cb1 \
\cb2       \cf4 "story"\cf0 : \cf5 "As an actuary, I want cloud results to update my local view in real-time without slow downloads."\cf0 ,\cb1 \
\cb2       \cf4 "acceptanceCriteria"\cf0 : [\cb1 \
\cb2         \cf5 "Cloud worker pipes raw Uint8Array result chunks to a binary WebSocket."\cf0 ,\cb1 \
\cb2         \cf5 "VS Code Results Panel consumes the binary stream and calls ResultsPanel.update() locally."\cf0 ,\cb1 \
\cb2         \cf5 "Throughput: Large batches (100K+) update the local chart in < 2 seconds."\cf0 ,\cb1 \
\cb2         \cf5 "Zero-copy: Result data is never converted to JSON strings during the transfer."\cf0 \cb1 \
\cb2       ],\cb1 \
\cb2       \cf4 "tech_stack"\cf0 : [\cf5 "WebSockets"\cf0 , \cf5 "ResultsPanel API"\cf0 ]\cb1 \
\cb2     \}\cb1 \
\cb2   ],\cb1 \
\cb2   \cf4 "definitionOfDone"\cf0 : [\cb1 \
\cb2     \cf5 "Local results match cloud results bit-for-bit for a 10K policy test set."\cf0 ,\cb1 \
\cb2     \cf5 "The 1B/36s pipeline executes successfully in the Dockerized worker."\cf0 ,\cb1 \
\cb2     \cf5 "Results Panel updates in real-time as the cloud run progresses."\cf0 ,\cb1 \
\cb2     \cf5 "Job API is fully documented with OpenAPI specs."\cf0 ,\cb1 \
\cb2     \cf5 "Asset packager successfully handles missing or corrupt local files."\cf0 \cb1 \
\cb2   ]\cb1 \
\cb2 \}\cb1 \
}