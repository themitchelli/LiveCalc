{
  "$schema": "../../schemas/livecalc.config.schema.json",
  "model": "model.mga",
  "policies": "local://data/policies.csv",
  "assumptions": {
    "mortality": "local://assumptions/mortality.csv",
    "lapse": "local://assumptions/lapse.csv",
    "expenses": "local://assumptions/expenses.json"
  },
  "scenarios": {
    "count": 1000,
    "seed": 42,
    "interestRate": {
      "initial": 0.04,
      "drift": 0.001,
      "volatility": 0.02
    }
  },
  "pipeline": {
    "nodes": [
      {
        "id": "esg",
        "engine": "wasm://esg-generator",
        "inputs": ["$scenarios"],
        "outputs": ["bus://scenarios/rates"]
      },
      {
        "id": "projection",
        "engine": "wasm://livecalc",
        "inputs": ["bus://scenarios/rates", "$policies", "$assumptions"],
        "outputs": ["bus://results/cashflows"]
      },
      {
        "id": "aggregator",
        "engine": "wasm://aggregator",
        "inputs": ["bus://results/cashflows"],
        "outputs": ["bus://results/npv"]
      }
    ],
    "debug": {
      "enableIntegrityChecks": false,
      "enableTraceLogging": false,
      "breakpoints": [],
      "zeroMemoryBetweenRuns": true
    }
  },
  "execution": {
    "autoRunOnSave": true,
    "timeout": 300,
    "maxPolicies": 100000
  },
  "output": {
    "percentiles": [50, 75, 90, 95, 99],
    "showDistribution": true,
    "showCashflows": false
  }
}
